<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Beautify your markdown Nextjs blog with Highlightjs | sunde.dev</title><meta property="og:image" content="/assets/blog/beautify-markdown/beautify-markdown.png"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/20d2607599c068add7ea.css" as="style"/><link rel="stylesheet" href="/_next/static/css/20d2607599c068add7ea.css"/><link rel="preload" href="/_next/static/css/810a40423e4dee602b14.css" as="style"/><link rel="stylesheet" href="/_next/static/css/810a40423e4dee602b14.css"/><link rel="preload" href="/_next/static/cW9YxM6hrzuKJmuKXDJ3s/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/cW9YxM6hrzuKJmuKXDJ3s/pages/blog/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-c212667a5f965e81e004.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.619a4f70c1d4d3a29cbc.js" as="script"/><link rel="preload" href="/_next/static/chunks/cb1608f2.39101a7cd02715a9aab0.js" as="script"/><link rel="preload" href="/_next/static/chunks/ff35de62.244c3afbbfc751a1196f.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5436c8e181afdaf5cab2.js" as="script"/><link rel="preload" href="/_next/static/chunks/7e014095c175481e59f28536f481aa3d5e1201c6.3f12d3915e3bb1570e38.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-a49d9a5a9c6f8427c4ce.js" as="script"/><link rel="preload" href="/_next/static/chunks/7a6caafcb608c7d0ab0729bc3eec663e7acf1ecb.58ddaf52c51b5cad8953.js" as="script"/><link rel="preload" href="/_next/static/chunks/7026089021beb1294145582de4a80dd3a4cb28fd.beaf2ae523630384d9e1.js" as="script"/><style id="__jsx-3756084102">h1.jsx-3756084102{margin-bottom:0;}h1.jsx-3756084102:hover{cursor:pointer;}nav.jsx-3756084102{padding:1.5rem 1.25rem;border-bottom:1px solid #ebebeb;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:768px){.header.jsx-3756084102{height:100vh;position:fixed;left:0;top:0;}.nav.jsx-3756084102{padding:2rem;width:10vw;height:100%;border-bottom:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style></head><body><div id="__next"><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm">The source code for this blog is<!-- --> <a href="https://github.com/persunde/persunde.github.io/" class="underline hover:text-success duration-200 transition-colors" target="_blank">available on GitHub</a></div></div></div><main><header class="jsx-3756084102 header"><nav role="navigation" aria-label="main navigation" class="jsx-3756084102 nav"><h1 class="jsx-3756084102">sunde.dev<!-- -->/blog</h1><div class="jsx-3756084102"><h1 class="jsx-3756084102">info</h1></div></nav></header><div class="container mx-auto px-5"><article class="mb-32"><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Beautify your markdown Nextjs blog with Highlightjs</h1><div class="hidden md:block md:mb-12"><div class="flex items-center"><img src="/assets/blog/authors/Per%20Sunde.png" class="w-12 h-12 rounded-full mr-4" alt="Per Sunde"/><div class="text-xl font-bold">Per Sunde</div></div></div><div class="mb-8 md:mb-16 -mx-5 sm:mx-0"><div class="-mx-5 sm:mx-0"><img src="/assets/blog/beautify-markdown/beautify-markdown.png" alt="Cover Image for Beautify your markdown Nextjs blog with Highlightjs" class="shadow-small"/></div></div><div class="max-w-2xl mx-auto"><div class="block md:hidden mb-6"><div class="flex items-center"><img src="/assets/blog/authors/Per%20Sunde.png" class="w-12 h-12 rounded-full mr-4" alt="Per Sunde"/><div class="text-xl font-bold">Per Sunde</div></div></div><div class="mb-6 text-lg"><time dateTime="2020-04-30">April	30, 2020</time></div></div><div class="markdown-body max-w-5xl "><p>Do you want your tech blog to have code highlighting features and make it look just like on Github? You too can easily get your markdown code segments color coded just like you see here on this blog. By following these simple steps you can add code beautifier / syntax highlighter to your own Nextjs markdown blog and your tech blog will look much nicer, easier to read and more professional.</p><p>This is the code before we apply the code beautifier. This function takes inn the body, or the main text, of the blog as markdown text, and returns a HTML version of the markdown text using the library react-markdown.</p><h3>Just want to copy/paste a solution?</h3><p>If you just want to find a solution to copy/paste, install the packages and go down to <strong>Final Result</strong> to see the end result code.</p><h2>Install the Needed packages</h2><p>Now we want to add the beautifier to our code.
First install <strong>react-highlight</strong> </p><div><pre><code>npm install react-highlight --save
npm install highlight.js
npm install react-markdown --save</code></pre></div><h2>Before markdown highlighting</h2><p>I have a file called <code>post-body.tsx</code> where I put this code.</p><div><pre><code>import  ReactMarkdown  from  &#x27;react-markdown&#x27;

export  default  function  PostBody({ content }) {
	return (
		&lt;div  className=&quot;markdown-body&quot;&gt;
			&lt;ReactMarkdown  source={content}  /&gt;
		&lt;/div&gt;
	)
}</code></pre></div><h2>Choose your CSS styling</h2><p>Now you need to select a CSS styling of your choice. I chose the standard GitHub styling, but <strong>you can choose whichever style suites you the most</strong>. Import this statement in your <code>_app.tsx</code> or <code>_app.js</code> file, or change the filename to the styling of your choice:</p><div><pre><code>import  &#x27;../node_modules/highlight.js/styles/github.css&#x27;;</code></pre></div><blockquote><p>take a look at the highlight.js demo page for an easy and fast way to check out all the styling options you have: 
<a href="https://highlightjs.org/static/demo/">https://highlightjs.org/static/demo/</a></p></blockquote><h2>Add Code Beautifier / Highlighter</h2><p>Now we can start to add the beautifier to our code. In the <code>post-body.tsx</code> file import the Highlight component. It is needed to wrap around the text we want to highlight, also import NextPage from the Nextjs library as it is needed by the ReactMarkdown component later on.</p><p>The new function HighlightCode wraps the input element in a <code>Highlight</code> component, this is needed for the last step.</p><div><pre><code>import  ReactMarkdown  from  &#x27;react-markdown&#x27;
import  Highlight  from  &#x27;react-highlight&#x27;;
import { NextPage } from  &#x27;next&#x27;;

interface  HighlightCodeProps {
	markdown: any;
}

const  HighlightCode: NextPage&lt;HighlightCodeProps&gt; = ({ markdown }) =&gt; {
	return (
		&lt;div&gt;
			&lt;Highlight&gt;
				{markdown}
			&lt;/Highlight&gt;
			&lt;br  /&gt;
		&lt;/div&gt;
	)
}</code></pre></div><p>If you dont use TypeScript, do it like this instead</p><div><pre><code>const  HighlightCode = ({ value }) =&gt; {
	return (
		&lt;div&gt;
			&lt;Highlight&gt;
				{value}
			&lt;/Highlight&gt;
			&lt;br  /&gt;
		&lt;/div&gt;
	)
}</code></pre></div><p>The <code>&lt;Hightlight /&gt;</code> component will parse the text and organize it into HTML elements and give each a class name that can be styled.</p><p>Now we need to modify the original function and add the new <code>HighlightCode</code> function we wrote to the <code>ReactMarkdown</code> renderer. Whenever the <code>ReactMarkdown</code> component identifies a &quot;code&quot; block in the markdown text, it calls the <code>HighlightCode</code> function with the text inside that markdown-block, so you can customize it however you want.  You can also add any other type of markdown-blocks you want the <code>ReactMarkdown</code> to specially render, by adding it under code with a corresponding function, just like we did for the markdown-code block here.</p><div><pre><code>export  default  function  PostBody({ content }) {
	return (
		&lt;div  className=&quot;markdown-body&quot;&gt;
			&lt;ReactMarkdown  source={content}
			renderers={{
				code:  HighlightCode
			}}
		/&gt;
		&lt;/div&gt;
	)
}</code></pre></div><p>The <code>code</code> parameter of <code>renderers</code>  in requires a component with a <code>&lt;code&gt;</code> element that is inside a <code>&lt;pre&gt;</code> element to work. The <code>&lt;Hightlight /&gt;</code> component does this for us.</p><h2>Final Result</h2><p>Here you see the final result, if you want a quick copy / paste solution for your website.</p><div><pre><code>import  ReactMarkdown  from  &#x27;react-markdown&#x27;
import  Highlight  from  &#x27;react-highlight&#x27;;
import { NextPage } from  &#x27;next&#x27;;

export  default  function  PostBody({ content }) {
	return (
		&lt;div  className=&quot;markdown-body&quot;&gt;
			&lt;ReactMarkdown  source={content}
			renderers={{
				code:  HighlightCode
			}}
		/&gt;
		&lt;/div&gt;
	)
}

interface  HighlightCodeProps {
	value: any;
}

const  HighlightCode: NextPage&lt;HighlightCodeProps&gt; = ({ value }) =&gt; {
	return (
		&lt;div&gt;
			&lt;Highlight&gt;
				{value}
			&lt;/Highlight&gt;
			&lt;br  /&gt;
		&lt;/div&gt;
	)
}</code></pre></div><p>Now you should have a code beautifier. 
You can also create new functions that will custom render any other markdown-blocks you can think of.</p><h2>Style other markdown blocks</h2><p>For example here is a quick and dirty way to style your ordered or unordered lists, but this code assumes there are no subsists inside the list. You can add classes and style your lists as you wish:</p><div><pre><code>export  default  function  PostBody({ content }) {
	return (
		&lt;div  className=&quot;markdown-body max-w-5xl &quot;&gt;
			&lt;ReactMarkdown  source={content}
				renderers={{
					list:  OrderedListBlock,
				}}
			/&gt;
		&lt;/div&gt;
	)
}

interface  ListBlockProps {
	ordered: boolean,
	children: any,
}
  
const  OrderedListBlock: NextPage&lt;ListBlockProps&gt; = ({ordered, children}: OrderedListBlockProps) =&gt; {
	const  list = children.map(val  =&gt; {
		return  &lt;li&gt;{val.props.children[0].props.children}&lt;/li&gt;
	})
	  
	if (ordered) {
		return  &lt;ol  className=&quot;markdown-ol&quot;&gt;{list}&lt;/ol&gt;
	} else {
		return  &lt;ul  className=&quot;markdown-ul&quot;&gt;{list}&lt;/ul&gt;
	}
}</code></pre></div><p>Checkout here for all the different types you can use <strong>react-markdown</strong> to style however you like:
<a href="https://www.npmjs.com/package/react-markdown#node-types">https://www.npmjs.com/package/react-markdown#node-types</a></p><p>If you like this blog, checkout my blog about <a href="https://sunde.dev/blog/How_to_create_a_free_static_website_with_Github_Pages">creating your own personal website with Github Pages</a>,</p><p>Find more blogs about tech and Nextjs here <a href="https://sunde.dev/blog">https://sunde.dev/blog</a></p></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">If you are not sure which beer is yours, it is the one with the most in it</h3><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="https://github.com/persunde/" class="mx-3 font-bold hover:underline">Check out my GitHub</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Beautify your markdown Nextjs blog with Highlightjs","date":"2020-04-30","slug":"Beautify_your_markdown_Nextjs_blog_with_Highlightjs","author":"Per Sunde","content":"\nDo you want your tech blog to have code highlighting features and make it look just like on Github? You too can easily get your markdown code segments color coded just like you see here on this blog. By following these simple steps you can add code beautifier / syntax highlighter to your own Nextjs markdown blog and your tech blog will look much nicer, easier to read and more professional.\n\nThis is the code before we apply the code beautifier. This function takes inn the body, or the main text, of the blog as markdown text, and returns a HTML version of the markdown text using the library react-markdown.\n\n### Just want to copy/paste a solution?\nIf you just want to find a solution to copy/paste, install the packages and go down to **Final Result** to see the end result code.\n\n## Install the Needed packages\nNow we want to add the beautifier to our code.\nFirst install **react-highlight** \n```bash\nnpm install react-highlight --save\nnpm install highlight.js\nnpm install react-markdown --save\n```\n\n## Before markdown highlighting  \nI have a file called `post-body.tsx` where I put this code.\n```typescript\nimport  ReactMarkdown  from  'react-markdown'\n\nexport  default  function  PostBody({ content }) {\n\treturn (\n\t\t\u003cdiv  className=\"markdown-body\"\u003e\n\t\t\t\u003cReactMarkdown  source={content}  /\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n```\n\n## Choose your CSS styling\nNow you need to select a CSS styling of your choice. I chose the standard GitHub styling, but **you can choose whichever style suites you the most**. Import this statement in your `_app.tsx` or `_app.js` file, or change the filename to the styling of your choice:\n```js\nimport  '../node_modules/highlight.js/styles/github.css';\n```\n\u003e take a look at the highlight.js demo page for an easy and fast way to check out all the styling options you have: \n\u003e https://highlightjs.org/static/demo/\n\n## Add Code Beautifier / Highlighter\nNow we can start to add the beautifier to our code. In the `post-body.tsx ` file import the Highlight component. It is needed to wrap around the text we want to highlight, also import NextPage from the Nextjs library as it is needed by the ReactMarkdown component later on.\n\nThe new function HighlightCode wraps the input element in a `Highlight` component, this is needed for the last step.\n```typescript\nimport  ReactMarkdown  from  'react-markdown'\nimport  Highlight  from  'react-highlight';\nimport { NextPage } from  'next';\n\ninterface  HighlightCodeProps {\n\tmarkdown: any;\n}\n\nconst  HighlightCode: NextPage\u003cHighlightCodeProps\u003e = ({ markdown }) =\u003e {\n\treturn (\n\t\t\u003cdiv\u003e\n\t\t\t\u003cHighlight\u003e\n\t\t\t\t{markdown}\n\t\t\t\u003c/Highlight\u003e\n\t\t\t\u003cbr  /\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n```\n\nIf you dont use TypeScript, do it like this instead\n```js\nconst  HighlightCode = ({ value }) =\u003e {\n\treturn (\n\t\t\u003cdiv\u003e\n\t\t\t\u003cHighlight\u003e\n\t\t\t\t{value}\n\t\t\t\u003c/Highlight\u003e\n\t\t\t\u003cbr  /\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n```\nThe `\u003cHightlight /\u003e` component will parse the text and organize it into HTML elements and give each a class name that can be styled.\n\nNow we need to modify the original function and add the new `HighlightCode` function we wrote to the `ReactMarkdown` renderer. Whenever the `ReactMarkdown` component identifies a \"code\" block in the markdown text, it calls the `HighlightCode` function with the text inside that markdown-block, so you can customize it however you want.  You can also add any other type of markdown-blocks you want the `ReactMarkdown` to specially render, by adding it under code with a corresponding function, just like we did for the markdown-code block here.\n```typescript\nexport  default  function  PostBody({ content }) {\n\treturn (\n\t\t\u003cdiv  className=\"markdown-body\"\u003e\n\t\t\t\u003cReactMarkdown  source={content}\n\t\t\trenderers={{\n\t\t\t\tcode:  HighlightCode\n\t\t\t}}\n\t\t/\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n```\nThe `code` parameter of `renderers`  in requires a component with a `\u003ccode\u003e` element that is inside a `\u003cpre\u003e` element to work. The `\u003cHightlight /\u003e` component does this for us.\n\n## Final Result\nHere you see the final result, if you want a quick copy / paste solution for your website.\n```typescript\nimport  ReactMarkdown  from  'react-markdown'\nimport  Highlight  from  'react-highlight';\nimport { NextPage } from  'next';\n\nexport  default  function  PostBody({ content }) {\n\treturn (\n\t\t\u003cdiv  className=\"markdown-body\"\u003e\n\t\t\t\u003cReactMarkdown  source={content}\n\t\t\trenderers={{\n\t\t\t\tcode:  HighlightCode\n\t\t\t}}\n\t\t/\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n\ninterface  HighlightCodeProps {\n\tvalue: any;\n}\n\nconst  HighlightCode: NextPage\u003cHighlightCodeProps\u003e = ({ value }) =\u003e {\n\treturn (\n\t\t\u003cdiv\u003e\n\t\t\t\u003cHighlight\u003e\n\t\t\t\t{value}\n\t\t\t\u003c/Highlight\u003e\n\t\t\t\u003cbr  /\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n```\n\nNow you should have a code beautifier. \nYou can also create new functions that will custom render any other markdown-blocks you can think of.\n\n##  Style other markdown blocks\nFor example here is a quick and dirty way to style your ordered or unordered lists, but this code assumes there are no subsists inside the list. You can add classes and style your lists as you wish:\n```typescript\nexport  default  function  PostBody({ content }) {\n\treturn (\n\t\t\u003cdiv  className=\"markdown-body max-w-5xl \"\u003e\n\t\t\t\u003cReactMarkdown  source={content}\n\t\t\t\trenderers={{\n\t\t\t\t\tlist:  OrderedListBlock,\n\t\t\t\t}}\n\t\t\t/\u003e\n\t\t\u003c/div\u003e\n\t)\n}\n\ninterface  ListBlockProps {\n\tordered: boolean,\n\tchildren: any,\n}\n  \nconst  OrderedListBlock: NextPage\u003cListBlockProps\u003e = ({ordered, children}: OrderedListBlockProps) =\u003e {\n\tconst  list = children.map(val  =\u003e {\n\t\treturn  \u003cli\u003e{val.props.children[0].props.children}\u003c/li\u003e\n\t})\n\t  \n\tif (ordered) {\n\t\treturn  \u003col  className=\"markdown-ol\"\u003e{list}\u003c/ol\u003e\n\t} else {\n\t\treturn  \u003cul  className=\"markdown-ul\"\u003e{list}\u003c/ul\u003e\n\t}\n}\n```\nCheckout here for all the different types you can use **react-markdown** to style however you like:\nhttps://www.npmjs.com/package/react-markdown#node-types\n\nIf you like this blog, checkout my blog about [creating your own personal website with Github Pages](https://sunde.dev/blog/How_to_create_a_free_static_website_with_Github_Pages),\n\nFind more blogs about tech and Nextjs here [https://sunde.dev/blog](https://sunde.dev/blog)\n\n\n","featuredImage":"/assets/blog/beautify-markdown/beautify-markdown.png"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"Beautify_your_markdown_Nextjs_blog_with_Highlightjs"},"buildId":"cW9YxM6hrzuKJmuKXDJ3s","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-2840af8c9ece25ca774b.js"></script><script async="" data-next-page="/_app" src="/_next/static/cW9YxM6hrzuKJmuKXDJ3s/pages/_app.js"></script><script async="" data-next-page="/blog/[slug]" src="/_next/static/cW9YxM6hrzuKJmuKXDJ3s/pages/blog/%5Bslug%5D.js"></script><script src="/_next/static/runtime/webpack-c212667a5f965e81e004.js" async=""></script><script src="/_next/static/chunks/framework.619a4f70c1d4d3a29cbc.js" async=""></script><script src="/_next/static/chunks/cb1608f2.39101a7cd02715a9aab0.js" async=""></script><script src="/_next/static/chunks/ff35de62.244c3afbbfc751a1196f.js" async=""></script><script src="/_next/static/chunks/commons.5436c8e181afdaf5cab2.js" async=""></script><script src="/_next/static/chunks/7e014095c175481e59f28536f481aa3d5e1201c6.3f12d3915e3bb1570e38.js" async=""></script><script src="/_next/static/runtime/main-a49d9a5a9c6f8427c4ce.js" async=""></script><script src="/_next/static/chunks/7a6caafcb608c7d0ab0729bc3eec663e7acf1ecb.58ddaf52c51b5cad8953.js" async=""></script><script src="/_next/static/chunks/7026089021beb1294145582de4a80dd3a4cb28fd.beaf2ae523630384d9e1.js" async=""></script><script src="/_next/static/cW9YxM6hrzuKJmuKXDJ3s/_buildManifest.js" async=""></script><script src="/_next/static/cW9YxM6hrzuKJmuKXDJ3s/_ssgManifest.js" async=""></script></body></html>