<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Setup Echo web server to serve a Single Page Application (SPA) | sunde.dev</title><meta property="og:image" content="/assets/blog/echo server for a spa/golang-react-echo.jpg"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/f5f74661e9abb1af4f4c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f5f74661e9abb1af4f4c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-94ae5ea155e55543a630.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.d342f5f3955b7f7d6277.js" as="script"/><link rel="preload" href="/_next/static/chunks/cb1608f2.3a126878b85e133ab6da.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.1d464fd208b2b9d3b421.js" as="script"/><link rel="preload" href="/_next/static/chunks/f10529ac8430e36f47d73c39d8e79de51e215278.02f90f09d1bf62ff9571.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-4e7cb5270eaae732be4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/9bff229787505ae764d5b76cd03dcbef9845e0ac.8189e1900d0dfd668211.js" as="script"/><link rel="preload" href="/_next/static/chunks/e763d8b2eb2e3ed4e3c29fd9fa38930b1c0c9253.fc9852459f6fcdfc4a3e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-c952f20250075164a5d1.js" as="script"/><style id="__jsx-3756084102">h1.jsx-3756084102{margin-bottom:0;}h1.jsx-3756084102:hover{cursor:pointer;}nav.jsx-3756084102{padding:1.5rem 1.25rem;border-bottom:1px solid #ebebeb;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:768px){.header.jsx-3756084102{height:100vh;position:fixed;left:0;top:0;}.nav.jsx-3756084102{padding:2rem;width:10vw;height:100%;border-bottom:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style></head><body><div id="__next"><script async="" defer="" data-website-id="74444df2-7306-41d7-b127-6463fcb046c3" src="https://analytics.nordictechjobs.com/umami.js"></script><div class="min-h-screen"><div class="border-b bg-accent-1 border-accent-2"><div class="container mx-auto px-5"><div class="py-2 text-center text-sm">The source code for this blog is<!-- --> <a href="https://github.com/persunde/persunde.github.io/" class="underline hover:text-success duration-200 transition-colors" target="_blank">available on GitHub</a></div></div></div><main><header class="jsx-3756084102 header"><nav role="navigation" aria-label="main navigation" class="jsx-3756084102 nav"><h1 class="jsx-3756084102">sunde.dev<!-- -->/blog</h1><div class="jsx-3756084102"><h1 class="jsx-3756084102">info</h1></div></nav></header><div class="container mx-auto px-5"><article class="mb-32"><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Setup Echo web server to serve a Single Page Application (SPA)</h1><div class="mb-8 md:mb-16 -mx-5 sm:mx-0"><div class="-mx-5 sm:mx-0"><img src="/assets/blog/echo server for a spa/golang-react-echo.jpg" alt="Cover Image for Setup Echo web server to serve a Single Page Application (SPA)" class="shadow-small"/></div></div><div class="max-w-2xl block mb-6"><div class="flex items-center space-x-4 mb-2"><div class="flex items-center"><img src="/assets/index/geneve-anime.jpeg" class="w-12 h-12 rounded-full mr-4" alt="Per Sunde"/><div class="text-xl font-bold">Per Sunde</div></div><div class="text-lg col-span-2 space-x-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="calendar" class="svg-inline--fa fa-calendar fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg><time dateTime="2021-01-25">January	25, 2021</time></div><div class="text-lg font-bold col-span-3 flex space-x-2"><div><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clock" class="svg-inline--fa fa-clock fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"></path></svg></div><div>3 min read</div></div></div><div class="flex items-center space-x-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tag" class="svg-inline--fa fa-tag fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><div>Go, Golang, Echo, SPA, React, Single Page Application, Webserver</div></div></div><div class="markdown-body max-w-5xl "><h1>Setup Echo web server to serve a Single Page Application (SPA)</h1><p>Do you have a Single Page App that is written in React, Vue or maybe Svelte, and you want to use the Golang Echo web framwork to serve your web-app?
Do you experience issues with the SPA routing? </p><h2>Echo has problems with SPA routing</h2><p>By default Echo does not work great with a SPA routing. It should work if you go to the base URL for example <a href="https://my-spa-url.com">https://my-spa-url.com</a>. But if you try to enter something like <a href="https://my-spa-url.com/sub-path">https://my-spa-url.com/sub-path</a> into your web-browser, then the SPA will not go to the correct page if you serve the files with Echo and you are using Echo&#x27;s default settings!</p><h2>Echo needs configuration to work with SPA</h2><p>If you want to use the Echo webserver framework for Go to serve a SPA you need to configure it to handle the requests properly. An SPA&#x27;s will not send a request for each sub-url path. Therefore you have to configure your Echo web-server to expect a SPA and serve the files correctly.</p><h2>How to make Echo serve a SPA correctly?</h2><p>To make Echo work well with your SPA, you need to enable the HTML5 property for the Echo static middleware. This will enable Echo to behave similarly to your development server that you normally start with a command like <code>npm start</code> or <code>yarn dev</code>.</p><p>So to make your Echo Golang web-server correctly serve a SPA, you need to add the middleware code shown below. Add this code the same place where you initialize your Echo server:</p><pre style="color:#d4d4d4;font-size:16px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-go" style="color:#d4d4d4;font-size:16px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">import</span><span> echoMw </span><span class="token" style="color:#ce9178">&quot;github.com/labstack/echo/v4/middleware&quot;</span><span>
</span>
<span>e</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Use</span><span class="token" style="color:#d4d4d4">(</span><span>middleware</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">StaticWithConfig</span><span class="token" style="color:#d4d4d4">(</span><span>echoMw</span><span class="token" style="color:#d4d4d4">.</span><span>StaticConfig</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>	Root</span><span class="token" style="color:#d4d4d4">:</span><span>   </span><span class="token" style="color:#ce9178">&quot;public&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>		</span><span class="token" style="color:#6a9955">// This is the path to your SPA build folder, the folder that is created from running &quot;npm build&quot;</span><span>
</span><span>	Index</span><span class="token" style="color:#d4d4d4">:</span><span>  </span><span class="token" style="color:#ce9178">&quot;index.html&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>	</span><span class="token" style="color:#6a9955">// This is the default html page for your SPA</span><span>
</span><span>	HTML5</span><span class="token" style="color:#d4d4d4">:</span><span>  </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span></code></pre><p>Below you can see the full code on how I initialize my simple Echo server to be configured to serve a SPA:</p><pre style="color:#d4d4d4;font-size:16px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-go" style="color:#d4d4d4;font-size:16px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">package</span><span> server
</span>
<span></span><span class="token" style="color:#569CD6">import</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>	</span><span class="token" style="color:#ce9178">&quot;github.com/labstack/echo/v4&quot;</span><span>
</span><span>	echoMw </span><span class="token" style="color:#ce9178">&quot;github.com/labstack/echo/v4/middleware&quot;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Init the echo webserver</span><span>
</span><span></span><span class="token" style="color:#569CD6">func</span><span> </span><span class="token" style="color:#dcdcaa">Init</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span>echo</span><span class="token" style="color:#d4d4d4">.</span><span>Echo </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>	e </span><span class="token" style="color:#d4d4d4">:=</span><span> echo</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">New</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span>	</span><span class="token" style="color:#6a9955">// Set Bundle MiddleWare</span><span>
</span><span>	e</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Use</span><span class="token" style="color:#d4d4d4">(</span><span>echoMw</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Logger</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>	e</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Use</span><span class="token" style="color:#d4d4d4">(</span><span>echoMw</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Gzip</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span>	e</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">Use</span><span class="token" style="color:#d4d4d4">(</span><span>echoMw</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#dcdcaa">StaticWithConfig</span><span class="token" style="color:#d4d4d4">(</span><span>echoMw</span><span class="token" style="color:#d4d4d4">.</span><span>StaticConfig</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>		Root</span><span class="token" style="color:#d4d4d4">:</span><span>   </span><span class="token" style="color:#ce9178">&quot;public&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>		</span><span class="token" style="color:#6a9955">// This is the path to your SPA build folder, the folder that is created from running &quot;npm build&quot;</span><span>
</span><span>		Index</span><span class="token" style="color:#d4d4d4">:</span><span>  </span><span class="token" style="color:#ce9178">&quot;index.html&quot;</span><span class="token" style="color:#d4d4d4">,</span><span>	</span><span class="token" style="color:#6a9955">// This is the default html page for your SPA</span><span>
</span><span>		Browse</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>		HTML5</span><span class="token" style="color:#d4d4d4">:</span><span>  </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>	</span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span>	</span><span class="token" style="color:#569CD6">return</span><span> e
</span><span></span><span class="token" style="color:#d4d4d4">}</span></code></pre><p>Now your Echo web server will serve your Single Page Application correctly. Have fun :)</p><h2>Read more about Echo configuration</h2><p>Read more about the Ehcho static middleware configuration you can do here:<br/><a href="https://echo.labstack.com/middleware/static">https://echo.labstack.com/middleware/static</a></p></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">If you are not sure which beer is yours, it is the one with the most in it</h3><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="https://github.com/persunde/" class="mx-3 font-bold hover:underline">Check out my GitHub</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Setup Echo web server to serve a Single Page Application (SPA)","date":"2021-01-25","slug":"Echo_Golang_server_for_a_Single_Page_Application_(SPA)","author":"Per Sunde","content":"# Setup Echo web server to serve a Single Page Application (SPA)\nDo you have a Single Page App that is written in React, Vue or maybe Svelte, and you want to use the Golang Echo web framwork to serve your web-app?\nDo you experience issues with the SPA routing? \n\n## Echo has problems with SPA routing\nBy default Echo does not work great with a SPA routing. It should work if you go to the base URL for example https://my-spa-url.com. But if you try to enter something like https://my-spa-url.com/sub-path into your web-browser, then the SPA will not go to the correct page if you serve the files with Echo and you are using Echo's default settings!\n\n## Echo needs configuration to work with SPA\nIf you want to use the Echo webserver framework for Go to serve a SPA you need to configure it to handle the requests properly. An SPA's will not send a request for each sub-url path. Therefore you have to configure your Echo web-server to expect a SPA and serve the files correctly.\n\n## How to make Echo serve a SPA correctly?\nTo make Echo work well with your SPA, you need to enable the HTML5 property for the Echo static middleware. This will enable Echo to behave similarly to your development server that you normally start with a command like `npm start` or `yarn dev`.\n\nSo to make your Echo Golang web-server correctly serve a SPA, you need to add the middleware code shown below. Add this code the same place where you initialize your Echo server:\n\n```go\nimport echoMw \"github.com/labstack/echo/v4/middleware\"\n\ne.Use(middleware.StaticWithConfig(echoMw.StaticConfig{\n\tRoot:   \"public\",\t\t// This is the path to your SPA build folder, the folder that is created from running \"npm build\"\n\tIndex:  \"index.html\",\t// This is the default html page for your SPA\n\tHTML5:  true,\n}))\n```\n\nBelow you can see the full code on how I initialize my simple Echo server to be configured to serve a SPA:\n\n```go\npackage server\n\nimport (\n\t\"github.com/labstack/echo/v4\"\n\techoMw \"github.com/labstack/echo/v4/middleware\"\n)\n\n// Init the echo webserver\nfunc Init() *echo.Echo {\n\n\te := echo.New()\n\n\t// Set Bundle MiddleWare\n\te.Use(echoMw.Logger())\n\te.Use(echoMw.Gzip())\n\n\te.Use(echoMw.StaticWithConfig(echoMw.StaticConfig{\n\t\tRoot:   \"public\",\t\t// This is the path to your SPA build folder, the folder that is created from running \"npm build\"\n\t\tIndex:  \"index.html\",\t// This is the default html page for your SPA\n\t\tBrowse: false,\n\t\tHTML5:  true,\n\t}))\n\n\treturn e\n}\n```\n\nNow your Echo web server will serve your Single Page Application correctly. Have fun :)\n\n\n## Read more about Echo configuration\nRead more about the Ehcho static middleware configuration you can do here:  \nhttps://echo.labstack.com/middleware/static","featuredImage":"/assets/blog/echo server for a spa/golang-react-echo.jpg","readingTime":"3 min read","tags":"Go, Golang, Echo, SPA, React, Single Page Application, Webserver"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"Echo_Golang_server_for_a_Single_Page_Application_(SPA)"},"buildId":"p_wOM8a9ZSM7lBkzaIhPs","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-86ef67bb8e62e3552895.js"></script><script src="/_next/static/chunks/main-94ae5ea155e55543a630.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.d342f5f3955b7f7d6277.js" async=""></script><script src="/_next/static/chunks/cb1608f2.3a126878b85e133ab6da.js" async=""></script><script src="/_next/static/chunks/commons.1d464fd208b2b9d3b421.js" async=""></script><script src="/_next/static/chunks/f10529ac8430e36f47d73c39d8e79de51e215278.02f90f09d1bf62ff9571.js" async=""></script><script src="/_next/static/chunks/pages/_app-4e7cb5270eaae732be4b.js" async=""></script><script src="/_next/static/chunks/9bff229787505ae764d5b76cd03dcbef9845e0ac.8189e1900d0dfd668211.js" async=""></script><script src="/_next/static/chunks/e763d8b2eb2e3ed4e3c29fd9fa38930b1c0c9253.fc9852459f6fcdfc4a3e.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c952f20250075164a5d1.js" async=""></script><script src="/_next/static/p_wOM8a9ZSM7lBkzaIhPs/_buildManifest.js" async=""></script><script src="/_next/static/p_wOM8a9ZSM7lBkzaIhPs/_ssgManifest.js" async=""></script></body></html>